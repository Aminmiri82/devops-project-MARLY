<svg contentStyleType='text/css' data-diagram-type='SEQUENCE' height='751px' preserveAspectRatio='none' style='width:1431px;height:751px;background:#FFFFFF;' version='1.1' viewBox='0 0 1431 751' width='1431px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><g><title>User</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='19.9551' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='23' x2='23' y1='81.2969' y2='670.2188'/></g><g><title>Frontend</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='208.8228' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='212.2681' x2='212.2681' y1='81.2969' y2='670.2188'/></g><g><title>JourneyController</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='530.7817' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='534.6479' x2='534.6479' y1='81.2969' y2='670.2188'/></g><g><title>JourneyPlanningService</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='737.2197' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='740.6484' x2='740.6484' y1='81.2969' y2='670.2188'/></g><g><title>ComfortModeJourneyStrategy</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='982.9751' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='986.0039' x2='986.0039' y1='81.2969' y2='670.2188'/></g><g><title>PrimApiClient</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='1158.251' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1161.9463' x2='1161.9463' y1='81.2969' y2='670.2188'/></g><g><title>PRIM API</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='1320.0459' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1323.5576' x2='1323.5576' y1='81.2969' y2='670.2188'/></g><g><title>H2 DB</title><rect fill='#000000' fill-opacity='0.00000' height='588.9219' width='8' x='1392.6689' y='81.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1396.5342' x2='1396.5342' y1='81.2969' y2='670.2188'/></g><g class='participant participant-head' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='31.9102' x='5' y='77.9951'>User</text><ellipse cx='23.9551' cy='13.5' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M23.9551,21.5 L23.9551,48.5 M10.9551,29.5 L36.9551,29.5 M23.9551,48.5 L10.9551,63.5 M23.9551,48.5 L36.9551,63.5' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-tail' data-participant='User'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='31.9102' x='5' y='682.2139'>User</text><ellipse cx='23.9551' cy='694.0156' fill='#E2E2F0' rx='8' ry='8' style='stroke:#181818;stroke-width:0.5;'/><path d='M23.9551,702.0156 L23.9551,729.0156 M10.9551,710.0156 L36.9551,710.0156 M23.9551,729.0156 L10.9551,744.0156 M23.9551,729.0156 L36.9551,744.0156' fill='none' style='stroke:#181818;stroke-width:0.5;'/></g><g class='participant participant-head' data-participant='Frontend'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='77.1094' x='174.2681' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='63.1094' x='181.2681' y='69.9951'>Frontend</text></g><g class='participant participant-tail' data-participant='Frontend'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='77.1094' x='174.2681' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='63.1094' x='181.2681' y='689.2139'>Frontend</text></g><g class='participant participant-head' data-participant='JourneyController'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='136.2676' x='466.6479' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='122.2676' x='473.6479' y='69.9951'>JourneyController</text></g><g class='participant participant-tail' data-participant='JourneyController'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='136.2676' x='466.6479' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='122.2676' x='473.6479' y='689.2139'>JourneyController</text></g><g class='participant participant-head' data-participant='JourneyPlanningService'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='179.1426' x='651.6484' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='165.1426' x='658.6484' y='69.9951'>JourneyPlanningService</text></g><g class='participant participant-tail' data-participant='JourneyPlanningService'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='179.1426' x='651.6484' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='165.1426' x='658.6484' y='689.2139'>JourneyPlanningService</text></g><g class='participant participant-head' data-participant='ComfortModeJourneyStrategy'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='221.9424' x='876.0039' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='207.9424' x='883.0039' y='69.9951'>ComfortModeJourneyStrategy</text></g><g class='participant participant-tail' data-participant='ComfortModeJourneyStrategy'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='221.9424' x='876.0039' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='207.9424' x='883.0039' y='689.2139'>ComfortModeJourneyStrategy</text></g><g class='participant participant-head' data-participant='PrimApiClient'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='108.6094' x='1107.9463' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='94.6094' x='1114.9463' y='69.9951'>PrimApiClient</text></g><g class='participant participant-tail' data-participant='PrimApiClient'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='108.6094' x='1107.9463' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='94.6094' x='1114.9463' y='689.2139'>PrimApiClient</text></g><g class='participant participant-head' data-participant='PRIM'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='74.9766' x='1286.5576' y='50'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='60.9766' x='1293.5576' y='69.9951'>PRIM API</text></g><g class='participant participant-tail' data-participant='PRIM'><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='74.9766' x='1286.5576' y='669.2188'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='60.9766' x='1293.5576' y='689.2139'>PRIM API</text></g><g class='participant participant-head' data-participant='DB'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='44.2695' x='1371.5342' y='77.9951'>H2 DB</text><path d='M1378.6689,29 C1378.6689,19 1396.6689,19 1396.6689,19 C1396.6689,19 1414.6689,19 1414.6689,29 L1414.6689,55 C1414.6689,65 1396.6689,65 1396.6689,65 C1396.6689,65 1378.6689,65 1378.6689,55 L1378.6689,29' fill='#E2E2F0' style='stroke:#181818;stroke-width:1.5;'/><path d='M1378.6689,29 C1378.6689,39 1396.6689,39 1396.6689,39 C1396.6689,39 1414.6689,39 1414.6689,29' fill='none' style='stroke:#181818;stroke-width:1.5;'/></g><g class='participant participant-tail' data-participant='DB'><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='44.2695' x='1371.5342' y='682.2139'>H2 DB</text><path d='M1378.6689,695.5156 C1378.6689,685.5156 1396.6689,685.5156 1396.6689,685.5156 C1396.6689,685.5156 1414.6689,685.5156 1414.6689,695.5156 L1414.6689,721.5156 C1414.6689,731.5156 1396.6689,731.5156 1396.6689,731.5156 C1396.6689,731.5156 1378.6689,731.5156 1378.6689,721.5156 L1378.6689,695.5156' fill='#E2E2F0' style='stroke:#181818;stroke-width:1.5;'/><path d='M1378.6689,695.5156 C1378.6689,705.5156 1396.6689,705.5156 1396.6689,705.5156 C1396.6689,705.5156 1414.6689,705.5156 1414.6689,695.5156' fill='none' style='stroke:#181818;stroke-width:1.5;'/></g><g class='message' data-participant-1='User' data-participant-2='Frontend'><polygon fill='#181818' points='200.8228,123.5625,210.8228,127.5625,200.8228,131.5625,204.8228,127.5625' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='23.9551' x2='206.8228' y1='127.5625' y2='127.5625'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='153.2578' x='30.9551' y='107.3638'>Enter origin/destination</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='140.1499' x='30.9551' y='122.4966'>Enable comfort mode</text></g><g class='message' data-participant-1='Frontend' data-participant-2='JourneyController'><polygon fill='#181818' points='522.7817,167.8281,532.7817,171.8281,522.7817,175.8281,526.7817,171.8281' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='212.8228' x2='528.7817' y1='171.8281' y2='171.8281'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='122.8398' x='219.8228' y='151.6294'>POST /api/journeys</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='297.959' x='219.8228' y='166.7622'>{journey, preferences: {comfortMode: true}}</text></g><g class='message' data-participant-1='JourneyController' data-participant-2='JourneyPlanningService'><polygon fill='#181818' points='729.2197,196.9609,739.2197,200.9609,729.2197,204.9609,733.2197,200.9609' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='534.7817' x2='735.2197' y1='200.9609' y2='200.9609'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='182.438' x='541.7817' y='195.895'>planAndPersist(parameters)</text></g><g class='message' data-participant-1='JourneyPlanningService' data-participant-2='ComfortModeJourneyStrategy'><polygon fill='#181818' points='974.9751,226.0938,984.9751,230.0938,974.9751,234.0938,978.9751,230.0938' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='741.2197' x2='980.9751' y1='230.0938' y2='230.0938'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='221.7554' x='748.2197' y='225.0278'>applyPreferences(params, profile)</text></g><g class='message' data-participant-1='ComfortModeJourneyStrategy' data-participant-2='ComfortModeJourneyStrategy'><line style='stroke:#181818;stroke-width:1;' x1='986.9751' x2='1028.9751' y1='289.4922' y2='289.4922'/><line style='stroke:#181818;stroke-width:1;' x1='1028.9751' x2='1028.9751' y1='289.4922' y2='302.4922'/><line style='stroke:#181818;stroke-width:1;' x1='987.9751' x2='1028.9751' y1='302.4922' y2='302.4922'/><polygon fill='#181818' points='997.9751,298.4922,987.9751,302.4922,997.9751,306.4922,993.9751,302.4922' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='137.8901' x='993.9751' y='254.1606'>Add wheelchair=true</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='145.4565' x='993.9751' y='269.2935'>Add max_nb_transfers</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='158.4565' x='993.9751' y='284.4263'>Add max_duration_to_pt</text></g><g class='message' data-participant-1='ComfortModeJourneyStrategy' data-participant-2='JourneyPlanningService'><polygon fill='#181818' points='752.2197,327.625,742.2197,331.625,752.2197,335.625,748.2197,331.625' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='746.2197' x2='985.9751' y1='331.625' y2='331.625'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='135.0083' x='758.2197' y='326.5591'>Modified parameters</text></g><g class='message' data-participant-1='JourneyPlanningService' data-participant-2='PrimApiClient'><polygon fill='#181818' points='1150.251,356.7578,1160.251,360.7578,1150.251,364.7578,1154.251,360.7578' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='741.2197' x2='1156.251' y1='360.7578' y2='360.7578'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='136.5317' x='748.2197' y='355.6919'>getJourneys(params)</text></g><g class='message' data-participant-1='PrimApiClient' data-participant-2='PRIM'><polygon fill='#181818' points='1312.0459,401.0234,1322.0459,405.0234,1312.0459,409.0234,1316.0459,405.0234' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='1162.251' x2='1318.0459' y1='405.0234' y2='405.0234'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='128.2227' x='1169.251' y='384.8247'>HTTP GET /journeys</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='137.7949' x='1169.251' y='399.9575'>?wheelchair=true&amp;...</text></g><g class='message' data-participant-1='PRIM' data-participant-2='PrimApiClient'><polygon fill='#181818' points='1173.251,430.1563,1163.251,434.1563,1173.251,438.1563,1169.251,434.1563' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='1167.251' x2='1323.0459' y1='434.1563' y2='434.1563'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='136.0176' x='1179.251' y='429.0903'>Filtered journey data</text></g><g class='message' data-participant-1='PrimApiClient' data-participant-2='JourneyPlanningService'><polygon fill='#181818' points='752.2197,459.2891,742.2197,463.2891,752.2197,467.2891,748.2197,463.2891' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='746.2197' x2='1161.251' y1='463.2891' y2='463.2891'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='93.812' x='758.2197' y='458.2231'>List&lt;Journey&gt;</text></g><g class='message' data-participant-1='JourneyPlanningService' data-participant-2='JourneyPlanningService'><line style='stroke:#181818;stroke-width:1;' x1='741.2197' x2='783.2197' y1='522.6875' y2='522.6875'/><line style='stroke:#181818;stroke-width:1;' x1='783.2197' x2='783.2197' y1='522.6875' y2='535.6875'/><line style='stroke:#181818;stroke-width:1;' x1='742.2197' x2='783.2197' y1='535.6875' y2='535.6875'/><polygon fill='#181818' points='752.2197,531.6875,742.2197,535.6875,752.2197,539.6875,748.2197,535.6875' style='stroke:#181818;stroke-width:1;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='138.6265' x='748.2197' y='487.356'>Build Journey entities</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='146.2881' x='748.2197' y='502.4888'>with JourneySegments</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='117.4063' x='748.2197' y='517.6216'>and JourneyPoints</text></g><g class='message' data-participant-1='JourneyPlanningService' data-participant-2='DB'><polygon fill='#181818' points='1384.6689,560.8203,1394.6689,564.8203,1384.6689,568.8203,1388.6689,564.8203' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;' x1='741.2197' x2='1390.6689' y1='564.8203' y2='564.8203'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='96.4272' x='748.2197' y='559.7544'>save(journeys)</text></g><g class='message' data-participant-1='JourneyPlanningService' data-participant-2='JourneyController'><polygon fill='#181818' points='545.7817,589.9531,535.7817,593.9531,545.7817,597.9531,541.7817,593.9531' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='539.7817' x2='740.2197' y1='593.9531' y2='593.9531'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='93.812' x='551.7817' y='588.8872'>List&lt;Journey&gt;</text></g><g class='message' data-participant-1='JourneyController' data-participant-2='Frontend'><polygon fill='#181818' points='223.8228,619.0859,213.8228,623.0859,223.8228,627.0859,219.8228,623.0859' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='217.8228' x2='533.7817' y1='623.0859' y2='623.0859'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='99.1948' x='229.8228' y='618.02'>JSON Response</text></g><g class='message' data-participant-1='Frontend' data-participant-2='User'><polygon fill='#181818' points='34.9551,648.2188,24.9551,652.2188,34.9551,656.2188,30.9551,652.2188' style='stroke:#181818;stroke-width:1;'/><line style='stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;' x1='28.9551' x2='211.8228' y1='652.2188' y2='652.2188'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164.8677' x='40.9551' y='647.1528'>Display accessible routes</text></g></g></svg>